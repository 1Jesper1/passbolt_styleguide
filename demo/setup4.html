<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Passbolt - The simple password management system</title>
	<base href="../src/">
	<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
	<link rel="stylesheet" type="text/css" href="css/setup.css"><meta http-equiv="pragma" content="no-cache" />
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/farbtastic.js"></script>
	<script type="text/javascript" charset="utf-8">
		$(document).ready(function() {
			/* color picker */
			var fb = $.farbtastic('#js_colorpicker');
			var txtvalue = "";
			var txtpossible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*(){}[]:;!@#$%^&*_-+=|';
			var colorpossible = 'ABCDEF0123456789';

			/* callback on color picking selection */
			fb.linkTo(function(color){
				var txtcolor = fb.hsl[2] > 0.5 ? '#000' : '#fff';
				$('#js_security_token_text')
					.css('color',txtcolor)
					.css('background-color',color);
				$('#js_security_token_background').val(color);
				$('#js_security_token_color').val(txtcolor);

			});

			/* set some random letters */
			var i=0;
			var randcolor = '';
			var randtext = '';
			for( ; i < 3; i++ )
				randtext += txtpossible.charAt(Math.floor(Math.random() * txtpossible.length));
			$('#js_security_token_text').val(randtext);

			/* set some random color */
			for(i=0; i < 6; i++ )
				randcolor += colorpossible.charAt(Math.floor(Math.random() * colorpossible.length));
			fb.setColor('#' + randcolor);

		});
	</script>
</head>
<body>
<div id="container" class="page setup">
	<!-- first header -->
	<div class="header first">
		<nav>
			<div class="primary navigation top">
				<!-- no top links at setup -->
			</div>
		</nav>
	</div>

	<!-- second header -->
	<div class="header second">
		<div class="col1">
			<div class="logo">
				<img src="img/logo/logo.png" alt="passbolt">
				<h1><span>Passbolt</span></h1>
			</div>
		</div>
		<div class="col2_3">
			<h2>We need a visual cue to protect us from the bad guys...</h2>
		</div>
	</div>

	<div class="panel main ">
		<!-- wizard steps -->
		<div class="panel left">
			<div class="navigation wizard">
				<ul>
					<li class="">
						<a href="../demo/setup1.html">1. Get the plugin</a>
					</li>
					<li class="">
						<a href="../demo/setup2b.html">2. Import your keys</a>
					</li>
					<li class="">
						<a href="../demo/setup3b.html">3. Set a master password</a>
					</li>
					<li class="selected">
						<a href="../demo/setup4.html">4. Set a security token</a>
					</li>
					<li class="disabled">
						5. Login!
					</li>
				</ul>
			</div>
		</div>
		<!-- main -->
		<div class="panel middle">
			<div class="grid grid-responsive-12">
				<form>
					<div class="row">
						<!-- left collumn -->
						<div class="col7">
							<h3>Set a security token</h3>
							<p>Please choose a color and three letters (or remember the combination we conveniently generated for you.</p>

							<div class="colorpicker">
								<div class="input color">
									<input type="text" id="js_security_token_text" class="token" name="text" maxlength="3"/>
									<div id="js_field_name_feedback" class="message error">Error message for input text</div>
									<input type="hidden" id="js_security_token_background" name="background" />
									<input type="hidden" id="js_security_token_color" name="color" />
								</div>
								<div id="js_colorpicker"></div>
							</div>

						</div>

						<!-- right collumn -->
						<div class="col4 last">
							<h3>Wait, why do I need this?</h3>
							<p>
							This token is used to prevent malicious web pages to trick you by mimicking passbolt dialogs in order to to steal your data (aka. protect you from phishing attacks).
							</p>
							<p>
							This visual cue will be shown whenever we ask you for your master password and other sensitive places to help make sure you are dealing with an authentic passbolt dialog and not a fake one!
							</p>
							<p><a href="#">Learn more</a>.</p>
						</div>

					</div>

					<div class="row last">
						<div class="input-wrapper">
							<a href="../demo/setup3b.html" class="button cancel big">cancel</a>
							<a href="../demo/setup5.html" class="button primary next big">next</a>
						</div>
					</div>

				</form>

			</div>
		</div>

	</div>

	<!-- footer -->
	<div class="footer">
		<span class="copyright">&copy; 2015 passbolt.com </span>
	</div>
</div>
</body>
</html>