/* headers */
.header {
  overflow: visible !important;

	&.first {
		background:@background-dark;
		height: 2.375em;
	}
	&.second {
		background:@background-lighter;
	}

  /** Responsive behavior for menu */
  .greedy {
    .navigation.primary {
      // Keep space on the right for the button.
      padding-right: 5em;

      // More button. (responsive version).
      button {
        position: absolute;
        top: 0;
        right: 0;
        padding: 0 1rem 0 1.5rem;
        outline: 0;
        border: 0;
        font-size: 1rem;
        font-weight: normal;
        background: @grey-darker;
        padding: .45em 1em .45em 1em;
        -webkit-border-radius: 0;
        -moz-border-radius: 0;
        border-radius: 0;
        text-shadow:none;
        color: @white;
        margin: 0;
      }
      button.hidden {
        transition: none;
        width: 0;
        padding: 0;
        overflow: hidden;
      }
      button::after {
        content: attr(count);
        display: inline-flex;
        width: 21px;
        height: 21px;
        align-items: center;
        justify-content: center;
        background: @black;
        color: @grey-lighter;
        border-radius: 50%;
        font-size: 0.7em;
        line-height: 0.7em;
        margin-left: 0.5rem;
      }

      ul.hidden-links {
        position: absolute;
        background: @grey-lighter;
        right: 0;
        top: 100%;

        &.hidden {
          display: none;
        }

        li {
          padding: 0.5rem;
          float: none;
          min-width: 85px;

          a {
            color: #404040;
            padding-right: 1rem;
          }
        }
      }
    }
  }
  /** End responsive behavior **/

	/* top navigation */
	.navigation.primary {

		li {
			padding: .5em 1em 0 .25em;
			height: 1.75em;
			float: left;

			&.right {
				float: right;
				margin-right: 1em;
			}

			a {
				color: @grey;
				text-decoration: none;
				border:0;
				display: inline-block;

				&:hover {
					color: @grey-lighter;
				}
				&:active,
				&:focus {
					color: @font-focus;
				}
			}
		}

		li {
			.row.selected {
				a {
					color: @white;
				}
			}
		}

		/* home button is special */
		.home {
			a {
				margin-top:.125em;
				margin-left: .5em;
				width: 1.250em;
				height: 1.250em;
				background: transparent url('@{images}/logo/icon-20_white.png') 0 0 no-repeat;
			}
			a:focus, &:hover a {
				background: transparent url('@{images}/logo/icon-20.png') 0 0 no-repeat;
			}
			a span {
				display: none;
			}
		}
	}

	/* logo positioning */
	.logo {
		margin: 1.25em 0 0 1em;
		max-width: 80%;
	}

}

/* CSS for serving the retina image to devices with a high "device-pixel-ratio": */
@media only screen and (-moz-min-device-pixel-ratio: 1.5),
only screen and (-o-min-device-pixel-ratio: 3/2),
only screen and (-webkit-min-device-pixel-ratio: 1.5),
only screen and (min-devicepixel-ratio: 1.5),
only screen and (min-resolution: 1.5dppx) {
	.header .navigation.primary .home {
		a {
			background: transparent url('@{images}/logo/icon-48_white.png') 0 0 no-repeat;
			background-size: 20px 20px;
		}
		a:focus, &:hover a {
			background: transparent url('@{images}/logo/icon-48.png') 0 0 no-repeat;
			background-size: 20px 20px;
		}
	}
}